<!DOCTYPE html>
<html>
    <head>
        <title>Test D3.js</title>
        <meta charset="UTF-8">
        <script type="text/javascript" src="js/d3/d3.min2.js"></script>
        <!-- Cuidado com a versÃ£o do d3 --> 
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
        <style>
            #mapa {
              width: 800px;
              height: 400px;
              margin: 1em auto;
              border: 1px solid black;
            }
            body{
            	background-color: #c9c9c9;
            }
        </style>
    <body>
        <div id="mapa">
	        <script type="text/javascript">
				var map = L.map('mapa').setView(new L.LatLng(40.7141667, -74.0063889), 9);

				L.tileLayer('http://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
				    attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
				 
				}).addTo(map);

	            var svg = d3.select(map.getPanes().overlayPane).append("svg");

	            var g = svg.append("g").attr("class", "leaflet-zoom-hide");

				d3.csv("/data/dadosreduzidos.csv", function(data) {
					console.log(stfm(data[0].dropoff_longitude) + '' + stfm(data[0].dropoff_latitude));

				});
				function stfm(string){
					return parseFloat(string.replace(',','.'));
				}
	        </script>
        </div>
    </body>
</html>